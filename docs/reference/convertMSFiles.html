<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>MS data conversion — convertMSFiles • patRoon</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="MS data conversion — convertMSFiles" />
<meta property="og:description" content="Conversion of MS analysis files between several open and closed data formats." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">patRoon</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Reference
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../reference/index.html">Online</a>
    </li>
    <li>
      <a href="../reference/patRoon.pdf">PDF</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorial
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/tutorial.html">Online HTML page</a>
    </li>
    <li>
      <a href="../articles/tutorial.pdf">PDF</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Handbook
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../handbook_bd/index.html">Book format</a>
    </li>
    <li>
      <a href="../articles/handbook.html">Single page</a>
    </li>
    <li>
      <a href="../handbook_bd/handbook.pdf">PDF</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rickhelmus/patRoon">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>MS data conversion</h1>
    <small class="dont-index">Source: <a href='https://github.com/rickhelmus/patRoon/blob/master/R/convert.R'><code>R/convert.R</code></a></small>
    <div class="hidden name"><code>convertMSFiles.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Conversion of MS analysis files between several open and closed data formats.</p>
    </div>

    <pre class="usage"><span class='fu'>MSFileFormats</span><span class='op'>(</span>algorithm <span class='op'>=</span> <span class='st'>"pwiz"</span>, vendor <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>

<span class='fu'>convertMSFiles</span><span class='op'>(</span>
  files <span class='op'>=</span> <span class='cn'>NULL</span>,
  outPath <span class='op'>=</span> <span class='cn'>NULL</span>,
  dirs <span class='op'>=</span> <span class='cn'>TRUE</span>,
  anaInfo <span class='op'>=</span> <span class='cn'>NULL</span>,
  from <span class='op'>=</span> <span class='cn'>NULL</span>,
  to <span class='op'>=</span> <span class='st'>"mzML"</span>,
  overWrite <span class='op'>=</span> <span class='cn'>FALSE</span>,
  algorithm <span class='op'>=</span> <span class='st'>"pwiz"</span>,
  centroid <span class='op'>=</span> <span class='va'>algorithm</span> <span class='op'>!=</span> <span class='st'>"openms"</span>,
  filters <span class='op'>=</span> <span class='cn'>NULL</span>,
  extraOpts <span class='op'>=</span> <span class='cn'>NULL</span>,
  PWizBatchSize <span class='op'>=</span> <span class='fl'>1</span>,
  logPath <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='st'>"log"</span>, <span class='st'>"convert"</span><span class='op'>)</span>,
  maxProcAmount <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/options.html'>getOption</a></span><span class='op'>(</span><span class='st'>"patRoon.maxProcAmount"</span><span class='op'>)</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>algorithm</th>
      <td><p>Either <code>"pwiz"</code> (implemented by <code class='command'>msConvert</code> of
ProteoWizard), <code>"openms"</code> (implemented by <code class='command'>FileConverter</code> of
OpenMS) or <code>"bruker"</code> (implemented by DataAnalysis).</p></td>
    </tr>
    <tr>
      <th>vendor</th>
      <td><p>If <code>TRUE</code> only vendor formats are returned.</p></td>
    </tr>
    <tr>
      <th>files, dirs</th>
      <td><p>The <code>files</code> argument should be a <code>character</code>
vector with input files. If <code>files</code> contains directories and
<code>dirs=TRUE</code> then files from these directories are also considered. An
alternative method to specify input files is by the <code>anaInfo</code>
argument. If the latter is specified <code>files</code> may be <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>outPath</th>
      <td><p>A character vector specifying directories that should be used
for the output. Will be re-cycled if necessary. If <code>NULL</code>, output
directories will be kept the same as the input directories.</p></td>
    </tr>
    <tr>
      <th>anaInfo</th>
      <td><p>An <a href='analysis-information.html'>analysis info table</a> used to
retrieve input files. Either this argument or <code>files</code> (or both) should
be set (<em>i.e.</em> not <code>NULL</code>).</p></td>
    </tr>
    <tr>
      <th>from</th>
      <td><p>Input format (see below). These are used to find analyses when
<code>dirs=TRUE</code> or <code>anaInfo</code> is set.</p></td>
    </tr>
    <tr>
      <th>to</th>
      <td><p>Output format: <code>"mzXML"</code> or <code>"mzML"</code>.</p></td>
    </tr>
    <tr>
      <th>overWrite</th>
      <td><p>Should existing destination file be overwritten
(<code>TRUE</code>) or not (<code>FALSE</code>)?</p></td>
    </tr>
    <tr>
      <th>centroid</th>
      <td><p>Set to <code>TRUE</code> to enable centroiding (not supported if
<code>algorithm="openms"</code>). In addition, when <code>algorithm="pwiz"</code> the
value may be <code>"vendor"</code> to perform centroiding with the vendor
algorithm or <code>"cwt"</code> to use ProteoWizard's wavelet algorithm.</p></td>
    </tr>
    <tr>
      <th>filters</th>
      <td><p>When <code>algorithm="pwiz"</code>: a <code>character</code> vector
specifying one or more filters. The elements of the specified vector are
directly passed to the <code>--filter</code> option (see
<a href='http://proteowizard.sourceforge.net/tools/filters.html'>here</a>)</p></td>
    </tr>
    <tr>
      <th>extraOpts</th>
      <td><p>A <code>character</code> vector specifying any extra commandline
parameters passed to <code class='command'>msConvert</code> or <code class='command'>FileConverter</code>. Set to
<code>NULL</code> to ignore. For options: see
<a href='https://abibuilder.informatik.uni-tuebingen.de/archive/openms/Documentation/release/latest/html/TOPP_FileConverter.html'>FileConverter</a>
 and
<a href='http://proteowizard.sourceforge.net/tools/msconvert.html'>msConvert</a>.</p></td>
    </tr>
    <tr>
      <th>PWizBatchSize</th>
      <td><p>When <code>algorithm="pwiz"</code>: the number of analyses to
process by a single call to <code class='command'>msConvert</code>. Usually a value of one is
most efficient. Set to zero to run all analyses all at once from a single
call.</p></td>
    </tr>
    <tr>
      <th>logPath</th>
      <td><p>Destination directory for log files with output from executed
commands. Will be created if non-existant. Set to <code>NULL</code> to disable
logging.</p></td>
    </tr>
    <tr>
      <th>maxProcAmount</th>
      <td><p>Maximum number of processes to run for parallelization.
Usually a number close to the amount of physical cores yields most
efficient results.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>MSFileFormats</code> returns a <code>character</code> with all supported
  input formats (see below).</p>
<p><code>convertMSFiles</code> converts the data format of an analysis to
  another. It uses tools from
  <a href='http://proteowizard.sourceforge.net/'>ProteoWizard</a>
  (<code class='command'>msConvert</code> command), <a href='http://www.openms.de/'>OpenMS</a>
  (<code class='command'>FileConverter</code> command) or Bruker DataAnalysis to perform the
  conversion. Supported input and output formats include <code class="file">mzXML</code>,
  <code class="file">.mzML</code> and several vendor formats, depending on which algorithm is
  used.</p>
    <h2 class="hasAnchor" id="conversion-formats"><a class="anchor" href="#conversion-formats"></a>Conversion formats</h2>

    <p>Possible output formats (<code>to</code> argument) are
  <code>mzXML</code> and <code>mzML</code>.</p>
<p>Possible input formats (<code>from</code> argument) depend on the algorithm that
  was chosen and may include:</p>
<p></p><ul>
<li><p><code>thermo</code>: Thermo <code class="file">.RAW</code> files (only
  <code>algorithm="pwiz"</code>).</p></li>
<li><p><code>bruker</code>: Bruker <code class="file">.d</code>, <code class="file">.yep</code>, <code class="file">.baf</code> and
  <code class="file">.fid</code> files (only <code>algorithm="pwiz"</code> or
  <code>algorithm="bruker"</code>).</p></li>
<li><p><code>agilent</code>: Agilent <code class="file">.d</code> files (only
  <code>algorithm="pwiz"</code>).</p></li>
<li><p><code>ab</code>: AB Sciex <code class="file">.wiff</code> files (only
  <code>algorithm="pwiz"</code>).</p></li>
<li><p><code>waters</code> Waters <code class="file">.RAW</code> files (only
  <code>algorithm="pwiz"</code>).</p></li>
<li><p><code>mzXML</code>/<code>mzML</code>: Open format <code class="file">.mzXML</code>/<code class="file">.mzML</code>
  files (only <code>algorithm="pwiz"</code> or <code>algorithm="openms"</code>).</p></li>
</ul>

<p>Note that the actual supported file formats of ProteoWizard depend on how
  it was installed (see
  <a href='http://proteowizard.sourceforge.net/formats/index.html'>here</a>).</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Rost HL, Sachsenberg T, Aiche S, Bielow C, Weisser H, Aicheler F, Andreotti S, Ehrlich H, Gutenbrunner P, Kenar E, Liang X, Nahnsen S, Nilse L, Pfeuffer J, Rosenberger G, Rurik M, Schmitt U, Veit J, Walzer M, Wojnar D, Wolski WE, Schilling O, Choudhary JS, Malmstrom L, Aebersold R, Reinert K, Kohlbacher O (2016).
&#8220;OpenMS: a flexible open-source software platform for mass spectrometry data analysis.&#8221;
<em>Nature Methods</em>, <b>13</b>(9), 741--748.
doi: <a href='https://doi.org/10.1038/nmeth.3959'>10.1038/nmeth.3959</a>
, <a href='https://doi.org/10.1038/nmeth.3959'>https://doi.org/10.1038/nmeth.3959</a>.
 <br /><br />
  Chambers MC, Maclean B, Burke R, Amodei D, Ruderman DL, Neumann S, Gatto L, Fischer B, Pratt B, Egertson J, Hoff K, Kessner D, Tasman N, Shulman N, Frewen B, Baker TA, Brusniak M, Paulse C, Creasy D, Flashner L, Kani K, Moulding C, Seymour SL, Nuwaysir LM, Lefebvre B, Kuhlmann F, Roark J, Rainer P, Detlev S, Hemenway T, Huhmer A, Langridge J, Connolly B, Chadick T, Holly K, Eckels J, Deutsch EW, Moritz RL, Katz JE, Agus DB, MacCoss M, Tabb DL, Mallick P (2012).
&#8220;A cross-platform toolkit for mass spectrometry and proteomics.&#8221;
<em>Nature Biotechnology</em>, <b>30</b>(10), 918--920.
doi: <a href='https://doi.org/10.1038/nbt.2377'>10.1038/nbt.2377</a>
, <a href='https://doi.org/10.1038/nbt.2377'>https://doi.org/10.1038/nbt.2377</a>.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='co'># Use FileConverter of OpenMS to convert between open mzXML/mzML format</span>
<span class='fu'>convertMSFiles</span><span class='op'>(</span><span class='st'>"standard-1.mzXML"</span>, to <span class='op'>=</span> <span class='st'>"mzML"</span>, algorithm <span class='op'>=</span> <span class='st'>"openms"</span><span class='op'>)</span>

<span class='co'># Convert all Thermo .RAW files in the analyses/raw directory to mzML and</span>
<span class='co'># store the files in analyses/mzml. During conversion files are centroided by</span>
<span class='co'># the peakPicking filter and only MS 1 data is kept.</span>
<span class='fu'>convertMSFiles</span><span class='op'>(</span><span class='st'>"analyses/raw"</span>, <span class='st'>"analyses/mzml"</span>, dirs <span class='op'>=</span> <span class='cn'>TRUE</span>, from <span class='op'>=</span> <span class='st'>"thermo"</span>,
               centroid <span class='op'>=</span> <span class='st'>"vendor"</span>, filters <span class='op'>=</span> <span class='st'>"msLevel 1"</span><span class='op'>)</span>
<span class='op'>}</span>

</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Rick Helmus.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


