<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Comparing feature groups — featureGroups-compare • patRoon</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Comparing feature groups — featureGroups-compare" />
<meta property="og:description" content="Functionality to compare feature groups and make a consensus." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">patRoon</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Reference
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../reference/index.html">Online</a>
    </li>
    <li>
      <a href="../reference/patRoon.pdf">PDF</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorial
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/tutorial.html">Online HTML page</a>
    </li>
    <li>
      <a href="../articles/tutorial.pdf">PDF</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Handbook
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../handbook_bd/index.html">Book format</a>
    </li>
    <li>
      <a href="../articles/handbook.html">Single page</a>
    </li>
    <li>
      <a href="../handbook_bd/handbook.pdf">PDF</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rickhelmus/patRoon">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Comparing feature groups</h1>
    <small class="dont-index">Source: <a href='https://github.com/rickhelmus/patRoon/blob/master/R/feature_groups-comparison.R'><code>R/feature_groups-comparison.R</code></a></small>
    <div class="hidden name"><code>featureGroups-compare.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Functionality to compare feature groups and make a consensus.</p>
    </div>

    <pre class="usage"><span class='co'># S4 method for featureGroups</span>
<span class='fu'>comparison</span><span class='op'>(</span><span class='va'>...</span>, <span class='va'>groupAlgo</span>, groupArgs <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>rtalign <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># S4 method for featureGroupsComparison,ANY</span>
<span class='fu'><a href='generics.html'>plot</a></span><span class='op'>(</span><span class='va'>x</span>, retMin <span class='op'>=</span> <span class='cn'>TRUE</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S4 method for featureGroupsComparison</span>
<span class='fu'><a href='generics.html'>plotVenn</a></span><span class='op'>(</span><span class='va'>obj</span>, which <span class='op'>=</span> <span class='cn'>NULL</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S4 method for featureGroupsComparison</span>
<span class='fu'><a href='generics.html'>plotUpSet</a></span><span class='op'>(</span><span class='va'>obj</span>, which <span class='op'>=</span> <span class='cn'>NULL</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S4 method for featureGroupsComparison</span>
<span class='fu'><a href='generics.html'>plotChord</a></span><span class='op'>(</span><span class='va'>obj</span>, addSelfLinks <span class='op'>=</span> <span class='cn'>FALSE</span>, addRetMzPlots <span class='op'>=</span> <span class='cn'>TRUE</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S4 method for featureGroupsComparison</span>
<span class='fu'><a href='generics.html'>consensus</a></span><span class='op'>(</span>
  <span class='va'>obj</span>,
  absMinAbundance <span class='op'>=</span> <span class='cn'>NULL</span>,
  relMinAbundance <span class='op'>=</span> <span class='cn'>NULL</span>,
  uniqueFrom <span class='op'>=</span> <span class='cn'>NULL</span>,
  uniqueOuter <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>...</th>
      <td><p>For <code>comparison</code>: <code>featureGroups</code> objects that should
  be compared. If the arguments are named (<em>e.g.</em> <code>myGroups =
  fGroups</code>) then these are used for labelling, otherwise objects are
  automatically labelled by their <code><a href='generics.html'>algorithm</a></code>.</p>
<p>For <code>plot</code>, <code>plotVenn</code>, <code>plotChord</code>: further options passed
  to <code>plot</code>, <span class="pkg">VennDiagram</span> plotting functions (<em>e.g.</em>
  <code>draw.pairwise.venn</code>) and <code>chordDiagram</code>
  respectively.</p>
<p>For <code>plotUpSet</code>: any further arguments passed to the <code>plotUpSet</code>
  method defined for <code><a href='featureGroups-class.html'>featureGroups</a></code>.</p></td>
    </tr>
    <tr>
      <th>groupAlgo</th>
      <td><p>The <code><a href='feature-grouping.html'>feature grouping
algorithm</a></code> that should be used for grouping <em>pseudo</em> features (see
details). Valid values are: <code>"xcms"</code> or <code>"openms"</code>. Note:
<code>xcms3</code> is not (yet) supported.</p></td>
    </tr>
    <tr>
      <th>groupArgs</th>
      <td><p>A <code>list</code> containing further parameters for
<code><a href='feature-grouping.html'>feature grouping</a></code>.</p></td>
    </tr>
    <tr>
      <th>x, obj</th>
      <td><p>The <code>featureGroupsComparison</code> object.</p></td>
    </tr>
    <tr>
      <th>retMin</th>
      <td><p>If <code>TRUE</code> retention times are plotted as minutes (seconds otherwise).</p></td>
    </tr>
    <tr>
      <th>which</th>
      <td><p>A character vector specifying one or more labels of compared
feature groups. For <code>plotVenn</code>: if <code>NULL</code> then all compared
groups are used.</p></td>
    </tr>
    <tr>
      <th>addSelfLinks</th>
      <td><p>If <code>TRUE</code> then 'self-links' are added which
represent non-shared data.</p></td>
    </tr>
    <tr>
      <th>addRetMzPlots</th>
      <td><p>Set to <code>TRUE</code> to enable <em>m/z</em> <em>vs</em>
retention time scatter plots.</p></td>
    </tr>
    <tr>
      <th>absMinAbundance, relMinAbundance</th>
      <td><p>Minimum absolute or relative
(<samp>0-1</samp>) abundance across objects for a result to be kept. For
instance, <code>relMinAbundance=0.5</code> means that a result should be present
in at least half of the number of compared objects. Set to <samp>NULL</samp> to
ignore and keep all results. Limits cannot be set when <code>uniqueFrom</code> is
not <code>NULL</code>.</p></td>
    </tr>
    <tr>
      <th>uniqueFrom</th>
      <td><p>Set this argument to only retain feature groups that are unique
within one or more of the objects for which the consensus is made.
Selection is done by setting the value of <code>uniqueFrom</code> to a
<code>logical</code> (values are recycled), <code>numeric</code> (select by index) or a
<code>character</code> (as obtained with <code><a href='generics.html'>algorithm(obj)</a></code>). For
<code>logical</code> and <code>numeric</code> values the order corresponds to the order
of the objects given for the consensus. Set to <code>NULL</code> to ignore.</p></td>
    </tr>
    <tr>
      <th>uniqueOuter</th>
      <td><p>If <code>uniqueFrom</code> is not <code>NULL</code> and if
<code>uniqueOuter=TRUE</code>: only retain data that are also unique between
objects specified in <code>uniqueFrom</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>comparison</code> returns a <code><a href='featureGroupsComparison-class.html'>featureGroupsComparison</a></code>
  object.</p>
<p><code>plotVenn</code> (invisibly) returns a list with the following fields:</p><ul>
<li><p><code>gList</code> the <code>gList</code> object that was returned by
  the utilized <span class="pkg">VennDiagram</span> plotting function.</p></li>
<li><p><code>areas</code> The total area for each plotted group.</p></li>
<li><p><code>intersectionCounts</code> The number of intersections between groups.</p></li>
</ul>

<p>The order for the <code>areas</code> and <code>intersectionCounts</code> fields is the same as the parameter order
from the used plotting function (see <em>e.g.</em> <code>draw.pairwise.venn</code> and
<code>draw.triple.venn</code>).</p>
<p><code>consensus</code> returns a <code><a href='featureGroups-class.html'>featureGroups</a></code> object with a
  consensus from the compared feature groups.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Feature groups objects originating from differing feature finding and/or
grouping algorithms (or their parameters) may be compared to assess their
output and generate a consensus.</p>
<p>The <code>comparison</code> method generates a
  <code><a href='featureGroupsComparison-class.html'>featureGroupsComparison</a></code> object from given feature groups
  objects, which in turn may be used for (visually) comparing presence of
  feature groups and generating a consensus. Internally, this function will
  collapse each feature groups object to <em>pseudo</em> features objects by
  averaging their retention times, <em>m/z</em> values and intensities, where
  each original feature groups object becomes an 'analysis'. All
  <em>pseudo</em> features are then grouped using
  <a href='feature-grouping.html'>regular feature grouping algorithms</a> so that a
  comparison can be made.</p>
<p><code>plot</code> generates an <em>m/z</em> <em>vs</em> retention time plot.</p>
<p><code>plotVenn</code> plots a Venn diagram outlining unique and shared
  feature groups between up to five compared feature groups.</p>
<p><code>plotUpSet</code> plots an UpSet diagram outlining unique and shared
  feature groups.</p>
<p><code>plotChord</code> plots a chord diagram to visualize the distribution
  of feature groups.</p>
<p><code>consensus</code> combines all compared feature groups and averages
  their retention, <em>m/z</em> and intensity data.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Rick Helmus.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


