<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Report workflow data — report • patRoon</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Report workflow data — report"><meta property="og:description" content="Functionality to report data produced by most workflow steps such as features, feature groups, formula and compound
annotations, and TPs."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">patRoon</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.3.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>

  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Reference

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../reference/index.html">Online</a>
    </li>
    <li>
      <a href="../reference/patRoon.pdf">PDF</a>
    </li>
  </ul></li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tutorial

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/tutorial.html">Online HTML page</a>
    </li>
    <li>
      <a href="../articles/tutorial.pdf">PDF</a>
    </li>
  </ul></li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Handbook

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../handbook_bd/index.html">Book format</a>
    </li>
    <li>
      <a href="../handbook_bd/handbook.pdf">PDF</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/rickhelmus/patRoon" class="external-link">
    <span class="fa fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Report workflow data</h1>
    <small class="dont-index">Source: <a href="https://github.com/rickhelmus/patRoon/blob/HEAD/R/generics.R" class="external-link"><code>R/generics.R</code></a>, <a href="https://github.com/rickhelmus/patRoon/blob/HEAD/R/report.R" class="external-link"><code>R/report.R</code></a></small>
    <div class="hidden name"><code>reporting.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Functionality to report data produced by most workflow steps such as features, feature groups, formula and compound
annotations, and TPs.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">report</span><span class="op">(</span></span>
<span>  <span class="va">fGroups</span>,</span>
<span>  MSPeakLists <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  formulas <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  compounds <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  compsCluster <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  components <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  TPs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  settingsFile <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"report"</span>, <span class="st">"settings.yml"</span>, package <span class="op">=</span> <span class="st">"patRoon"</span><span class="op">)</span>,</span>
<span>  path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  EICParams <span class="op">=</span> <span class="fu"><a href="EICParams.html">getDefEICParams</a></span><span class="op">(</span>topMost <span class="op">=</span> <span class="fl">1</span>, topMostByRGroup <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  specSimParams <span class="op">=</span> <span class="fu"><a href="specSimParams.html">getDefSpecSimParams</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  clearPath <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  openReport <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  parallel <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  overrideSettings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'featureGroups'</span></span>
<span><span class="fu">report</span><span class="op">(</span></span>
<span>  <span class="va">fGroups</span>,</span>
<span>  MSPeakLists <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  formulas <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  compounds <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  compsCluster <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  components <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  TPs <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  settingsFile <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"report"</span>, <span class="st">"settings.yml"</span>, package <span class="op">=</span> <span class="st">"patRoon"</span><span class="op">)</span>,</span>
<span>  path <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  EICParams <span class="op">=</span> <span class="fu"><a href="EICParams.html">getDefEICParams</a></span><span class="op">(</span>topMost <span class="op">=</span> <span class="fl">1</span>, topMostByRGroup <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  specSimParams <span class="op">=</span> <span class="fu"><a href="specSimParams.html">getDefSpecSimParams</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  clearPath <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  openReport <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  parallel <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  overrideSettings <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">genReportSettingsFile</span><span class="op">(</span>out <span class="op">=</span> <span class="st">"report.yml"</span>, baseFrom <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-fgroups">fGroups<a class="anchor" aria-label="anchor" href="#arg-fgroups"></a></dt>
<dd><p>The <code><a href="featureGroups-class.html">featureGroups</a></code> object that should be used for reporting data.</p></dd>


<dt id="arg-mspeaklists-formulas-compounds-compscluster-components-tps">MSPeakLists, formulas, compounds, compsCluster, components, TPs<a class="anchor" aria-label="anchor" href="#arg-mspeaklists-formulas-compounds-compscluster-components-tps"></a></dt>
<dd><p>Further objects (<code><a href="MSPeakLists-class.html">MSPeakLists</a></code>,
<code><a href="formulas-class.html">formulas</a></code>, <code><a href="compounds-class.html">compounds</a></code>, <code><a href="compoundsCluster-class.html">compoundsCluster</a></code>, <code><a href="components-class.html">components</a></code>,
<code><a href="transformationProducts-class.html">transformationProducts</a></code>) that should be reported. Specify <code>NULL</code> to skip reporting a particular
object. Note that <code>MSPeakLists</code> must be set if either <code>formulas</code> or <code>compounds</code> is set.</p></dd>


<dt id="arg-settingsfile">settingsFile<a class="anchor" aria-label="anchor" href="#arg-settingsfile"></a></dt>
<dd><p>The path to the report settings file used for report configuration (see <code>Report settings</code>).</p></dd>


<dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p>The destination file path for files generated during reporting. Will be generated if needed. If
<code>path=NULL</code> then the destination path is taken from the report settings (see below).</p></dd>


<dt id="arg-eicparams">EICParams<a class="anchor" aria-label="anchor" href="#arg-eicparams"></a></dt>
<dd><p>A named <code>list</code> with parameters used for extracted ion chromatogram (EIC) creation. See the
<a href="EICParams.html">EIC parameters</a> documentation for more details.</p></dd>


<dt id="arg-specsimparams">specSimParams<a class="anchor" aria-label="anchor" href="#arg-specsimparams"></a></dt>
<dd><p>A named <code>list</code> with parameters that influence the calculation of MS spectra similarities.
See the <a href="specSimParams.html">spectral similarity parameters</a> documentation for more details.</p></dd>


<dt id="arg-clearpath">clearPath<a class="anchor" aria-label="anchor" href="#arg-clearpath"></a></dt>
<dd><p>If <code>TRUE</code> then the report destination path will be (recursively) removed prior to reporting.</p></dd>


<dt id="arg-openreport">openReport<a class="anchor" aria-label="anchor" href="#arg-openreport"></a></dt>
<dd><p>If set to <code>TRUE</code> then the output report file will be opened with the system browser.</p></dd>


<dt id="arg-parallel">parallel<a class="anchor" aria-label="anchor" href="#arg-parallel"></a></dt>
<dd><p>If set to <code>TRUE</code> then code is executed in parallel through the <a href="https://CRAN.R-project.org/package=futures" class="external-link"><span class="pkg">futures</span></a> package. Please
see the parallelization section in the handbook for more details.</p></dd>


<dt id="arg-overridesettings">overrideSettings<a class="anchor" aria-label="anchor" href="#arg-overridesettings"></a></dt>
<dd><p>A <code>list</code> with settings that override those from the report settings file. Example:
<code>overrideSettings=list(compounds=list(topMost=25))</code>.</p></dd>


<dt id="arg-out">out<a class="anchor" aria-label="anchor" href="#arg-out"></a></dt>
<dd><p>The output file path.</p></dd>


<dt id="arg-basefrom">baseFrom<a class="anchor" aria-label="anchor" href="#arg-basefrom"></a></dt>
<dd><p>An existing report file to which the report settings should be based from. This is primarily used to
update old settings files: the output settings file will be based on the old settings and amended with any missing.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The reporting functionality is typically used at the very end of the workflow. It is used to overview the data
generated during the workflow, such as features, their annotations and TP screening results.</p>
<p><code>report</code> reports all workflow data in an interactive <acronym>HTML</acronym> file. The reports include both
  tabular data (<em>e.g.</em> retention times, annotation properties, screening results) and varios plots (<em>e.g.</em>
  chromatograms, (annotated) mass spectra and many more). This function uses functionality from other <span style="R">R</span> packages,
  such as <a href="https://CRAN.R-project.org/package=rmarkdown" class="external-link"><span class="pkg">rmarkdown</span></a>, <a href="https://CRAN.R-project.org/package=flexdashboard" class="external-link"><span class="pkg">flexdashboard</span></a>, <a href="https://CRAN.R-project.org/package=knitr" class="external-link"><span class="pkg">knitr</span></a> and <a href="https://CRAN.R-project.org/package=bslib" class="external-link"><span class="pkg">bslib</span></a>.</p>
<p>The <code>genReportSettingsFile</code> function generates a new template <code class="file">YAML</code> file to configure report
  settings (see the next section).</p>
    </div>
    <div id="note">
    <h2>Note</h2>
    <p>No data will be reported for feature groups in any of the reported objects (<code>formulas</code>, <code>compounds</code>
  etc) which are <em>not</em> present in the input <code><a href="featureGroups-class.html">featureGroups</a></code> object (<code>fGroups</code>).</p>
<p>The <code>topMost</code>, <code>topMostByRGroup</code> and <code>onlyPresent</code> <a href="EICParams.html">EIC parameters</a> may be ignored,
  <em>e.g.</em>, when generating overview plots.</p>
    </div>
    <div id="report-settings">
    <h2>Report settings</h2>
    <p>The report generation can be customized with a variety of settings that are read from a
  <code class="file">YAML</code> file. This is especially useful if you want to change more advanced settings or want to add or remove
  the parts that are reported The report settings file is specified through the <code>settingsFile</code> argument. If not
  specified then default settings will be used. To ease creation of a new template settings file, the
  <code>genReportSettingsFile</code> function can be used.</p>
<p>The following settings are currently available:</p><ul><li><p>General</p><ul><li><p><code>format</code>: the report format. Currently this can only be <code>"html"</code>.</p></li>
<li><p><code>path</code>: the destination path (ignored if the <code>path</code> argument is specified).</p></li>
<li><p><code>keepUnusedPlots</code>: the number of days that unused plot files are kept (see <code>Plot file caching</code>).</p></li>
<li><p><code>selfContained</code>: If <code>true</code> then the output <code class="file">report.html</code> embeds all graphics and script
     dependencies. Otherwise these files are read from the <code>report_files/</code> directory. Self-contained reports are
     easily shared, since only the <code class="file">report.html</code> needs to be copied. However, they may be slower to generate and
     render, especially when the report contains a lot of data.</p></li>
<li><p><code>noDate</code> Set to <code>true</code> to omit the date from the report. Mainly used for internal purposes.</p></li>
</ul></li>
<li><p><code>summary</code>: defines the plots on the summary page: <code>chord</code>, <code>venn</code> and/or <code>upset</code>.</p></li>
<li><p><code>features</code></p><ul><li><p><code>retMin</code>: if <code>true</code> then retention times are reported in minutes.</p></li>
<li><p><code>chromatograms</code></p><ul><li><p><code>large</code>: inclusion of large chromatograms (used in feature group table and TP parent chromatogram
         view).</p></li>
<li><p><code>small</code>: inclusion of small chromatograms (feature group table).</p></li>
<li><p><code>features</code>: inclusion of chromatograms for individual features (features view). Set to <code>all</code>
         to also include plots for analyses in which a feature was not found (or removed afterwards).</p></li>
<li><p><code>intMax</code>: Method to determine the maximum intensity plot range: <code>eic</code> or <code>feature</code>.
         Sets the <code>intMax</code> argument to <code>plotChroms</code>.</p></li>
</ul></li>
<li><p><code>intensityPlots</code>: inclusion of intensity trend plots.</p></li>
</ul></li>
<li><p><code>MSPeakLists</code></p><ul><li><p><code>spectra</code>: inclusion of MS and MS/MS spectra (not annotated).</p></li>
</ul></li>
<li><p><code>formulas</code></p><ul><li><p><code>include</code>: whether formula results are reported (formula view). If <code>false</code> then the input
     <code>formulas</code> object is still used to amend <em>e.g.</em> compound annotated spectra.</p></li>
<li><p><code>normalizeScores</code>, <code>exclNormScores</code>: controls score normalization, sets the equally named
     arguments to <em>e.g.</em> <code><a href="generics.html">plotScores</a></code>.</p></li>
<li><p><code>topMost</code> only report this number of top ranked candidates. This number can be lowered to speed-up
     report generation.</p></li>
</ul></li>
<li><p><code>compounds</code></p><ul><li><p><code>normalizeScores</code>, <code>exclNormScores</code>, <code>topMost</code>: same as <code>formulas</code>, see above.</p></li>
</ul></li>
<li><p><code>TPs</code></p><ul><li><p><code>graphs</code>: inclusion of TP hierarchy graphs (generated with <code><a href="generics.html">plotGraph</a></code>).</p></li>
<li><p><code>graphStructuresMax</code>: maximum number of structures to plot in hierarchy graphs (sets
     <code>structuresMax</code> argument of <code><a href="transformationProductsStructure-class.html">plotGraph</a></code>).</p></li>
</ul></li>
<li><p><code>internalStandards</code></p><ul><li><p><code>graph</code>: inclusion of internal standard network plot
     (<code><a href="feature-plotting.html">plotGraph</a></code>).</p></li>
</ul></li>
</ul></div>
    <div id="plot-file-caching">
    <h2>Plot file caching</h2>
    <p>When a new report is generated the plot files are stored inside the <code>report_files</code>
  sub-directory inside the destination path of the report. The plot files are kept so they can be reused to speed-up
  re-creation of reports (<em>e.g.</em> with different report settings). After the report is generated, any unused plot
  files are removed unless they were recently created (controlled by the <code>keepUnusedPlots</code> setting, see previous
  section). The <code>clearPath</code> argument can be used to completely remove any old files.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Creating MetFrag landing page URLs based on code from
  <a href="https://github.com/Treutler/MetFamily" class="external-link">MetFamily</a> R package. <br><br> Xie Y (2014).
“knitr: A Comprehensive Tool for Reproducible Research in R.”
In Stodden V, Leisch F, Peng RD (eds.), <em>Implementing Reproducible Computational Research</em>.
Chapman and Hall/CRC.
ISBN 978-1466561595.<br><br>
Xie Y (2015).
<em>Dynamic Documents with R and knitr</em>, 2nd edition.
Chapman and Hall/CRC, Boca Raton, Florida.
ISBN 978-1498716963, <a href="https://yihui.org/knitr/" class="external-link">https://yihui.org/knitr/</a>.<br><br>
Xie Y (2025).
<em>knitr: A General-Purpose Package for Dynamic Report Generation in R</em>.
R package version 1.50, <a href="https://yihui.org/knitr/" class="external-link">https://yihui.org/knitr/</a>.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Rick Helmus.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

